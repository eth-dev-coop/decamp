(this["webpackJsonpdecamp-react"]=this["webpackJsonpdecamp-react"]||[]).push([[0],{268:function(e,t,n){},292:function(e,t){},298:function(e,t){},299:function(e,t){},325:function(e,t){},327:function(e,t){},338:function(e,t){},34:function(e){e.exports=JSON.parse('{"managerPoolAccount":"0x83295eEcD07F684A0BE9e194A5Ad957bbd5f8c9d","factoryAddress":"0x0cA23BB15B21E43F8665Ab6ac2641C3C380D8B79","campaignABI":[{"inputs":[{"internalType":"address","name":"newCreator","type":"address"},{"internalType":"string","name":"pDescription","type":"string"},{"internalType":"address","name":"mangerPool","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[],"name":"CampaignAssigned","type":"event"},{"anonymous":false,"inputs":[],"name":"CampaignFunded","type":"event"},{"anonymous":false,"inputs":[],"name":"CampaignHalted","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"sender","type":"address"}],"name":"Contributed","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"sender","type":"address"}],"name":"ProposalSubmitted","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"sender","type":"address"}],"name":"UserRefunded","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"sender","type":"address"}],"name":"UserVoted","type":"event"},{"inputs":[],"name":"assignCampaign","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"campaignState","outputs":[{"internalType":"enum Campaign.CampaignState","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"contribute","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"creator","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"dateCreated","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"description","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"id","type":"address"}],"name":"getAmountForManager","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"id","type":"address"}],"name":"getProposalManagerByAddress","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getProposals","outputs":[{"internalType":"address[]","name":"","type":"address[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"id","type":"address"}],"name":"getVotesForManager","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"haltCampaign","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"hasManager","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"id","type":"address"}],"name":"isContributor","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"leader","outputs":[{"internalType":"address payable","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"leaderIsEligible","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"manager","outputs":[{"internalType":"address payable","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"mangerPoolContractAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"proposals","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"refund","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"string","name":"descriptionSet","type":"string"},{"internalType":"uint256","name":"amountNeeded","type":"uint256"}],"name":"submitProposal","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"voteBufferDate","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"voteBufferSeconds","outputs":[{"internalType":"uint32","name":"","type":"uint32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"voteCountThreshold","outputs":[{"internalType":"uint32","name":"","type":"uint32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address payable","name":"id","type":"address"}],"name":"voteOnProposal","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"withdrawalFunds","outputs":[],"stateMutability":"payable","type":"function"}],"factoryABI":[{"inputs":[{"internalType":"address","name":"mangerPoolContractAddressSet","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"sender","type":"address"},{"indexed":false,"internalType":"address","name":"campaign","type":"address"}],"name":"CampaignCreated","type":"event"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"activeCampaigns","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"description","type":"string"}],"name":"createCampaign","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"deployedCampaigns","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getActiveCampaigns","outputs":[{"internalType":"address[]","name":"","type":"address[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getDeployedCampaigns","outputs":[{"internalType":"address[]","name":"","type":"address[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"mangerPoolContractAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"index","type":"uint256"}],"name":"removeActiveCampaign","outputs":[],"stateMutability":"nonpayable","type":"function"}],"managerPoolABI":[{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"sender","type":"address"}],"name":"ManagerCreated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"sender","type":"address"}],"name":"ManagerPunished","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"sender","type":"address"}],"name":"ManagerRewarded","type":"event"},{"inputs":[],"name":"createManager","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"id","type":"address"}],"name":"getManagerPoints","outputs":[{"internalType":"int256","name":"","type":"int256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getManagers","outputs":[{"internalType":"address[]","name":"","type":"address[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"id","type":"address"}],"name":"isManager","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"managers","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"id","type":"address"}],"name":"punishManager","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"id","type":"address"}],"name":"rewardManager","outputs":[],"stateMutability":"nonpayable","type":"function"}]}')},340:function(e,t){},350:function(e,t){},352:function(e,t){},461:function(e,t){},463:function(e,t){},468:function(e,t){},470:function(e,t){},477:function(e,t){},489:function(e,t){},492:function(e,t){},497:function(e,t){},591:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n.n(a),c=n(257),r=n.n(c),i=n(74),u=n(17),d=(n(267),n(268),n(15)),l=n(25),j=n(4),o=n(100),b=n(34),p=n(66),m=n(57),O=n(118),x=n.n(O),h=n(51),f=n.n(h),y=n(28),v=n(89),w=n(87),g=n.n(w),C=n(0),N=function(e){var t=Object(a.useState)(0),n=Object(j.a)(t,2),s=n[0],c=n[1],r=Object(a.useState)(0),i=Object(j.a)(r,2),O=i[0],h=i[1],w=Object(a.useState)(!1),N=Object(j.a)(w,2),S=N[0],M=N[1],A=Object(a.useRef)(null),T=Object(a.useState)(""),k=Object(j.a)(T,2),P=k[0],E=k[1],L=Object(u.f)(),B=Object(u.g)();function I(){return R.apply(this,arguments)}function R(){return R=Object(l.a)(Object(d.a)().mark((function e(){var t,n;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g()();case 2:if(!(t=e.sent)||!t.selectedAddress){e.next=15;break}return E(D(window.ethereum.selectedAddress)),M(!0),A.current=new f.a(window.ethereum),e.next=9,A.current.eth.getBalance(window.ethereum.selectedAddress);case 9:n=e.sent,c((n/1e18).toFixed(3)),h(parseInt(window.ethereum.selectedAddress.slice(2,10),16)),B.id&&new A.current.eth.Contract(b.campaignABI,B.id).events.UserRefunded(function(){var e=Object(l.a)(Object(d.a)().mark((function e(t){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).on("data",function(){var e=Object(l.a)(Object(d.a)().mark((function e(t){var n;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.current.eth.getBalance(window.ethereum.selectedAddress);case 2:n=e.sent,c((n/1e18).toFixed(3));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).on("error",(function(e,t){console.log(e)})),e.next=16;break;case 15:M(!1);case 16:case"end":return e.stop()}}),e)}))),R.apply(this,arguments)}function D(e){if(e)return e.slice(0,5)+"..."+e.slice(-4)}Object(a.useEffect)((function(){return window.ethereum.on("accountsChanged",I),window.ethereum.on("connect",I),I(),function(){window.ethereum.removeListener("accountsChanged",I),window.ethereum.removeListener("connect",I)}}),[]);return Object(C.jsx)("div",{children:Object(C.jsx)(o.a,{variant:"dark",expand:"lg",className:"navbar-custom",children:Object(C.jsxs)(m.a,{children:[Object(C.jsx)(o.a.Brand,{className:"cursorP",onClick:function(){L("/")},children:"decamp"}),Object(C.jsx)(o.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(C.jsxs)(p.a,{children:[Object(C.jsx)(p.a.Link,{children:"rewards"}),Object(C.jsx)(p.a.Link,{children:"managers"}),Object(C.jsx)(p.a.Link,{children:"profile"}),Object(C.jsx)(p.a.Link,{children:"faucet"})]}),Object(C.jsx)(o.a.Collapse,{id:"basic-navbar-nav",children:Object(C.jsx)(p.a,{children:Object(C.jsxs)(p.a.Link,{children:[!S&&Object(C.jsx)("div",{children:Object(C.jsx)(y.a,{variant:"primary",onClick:function(){window.ethereum.request({method:"eth_requestAccounts"})},children:"Connect to MetaMask"})}),S&&Object(C.jsx)(v.a,{bg:"secondary",children:Object(C.jsxs)("div",{className:"navbar-badge",children:[Object(C.jsx)(x.a,{diameter:24,seed:O}),"\xa0 \xa0 \xa0",Object(C.jsx)("span",{children:P}),"\xa0 \xa0 \xa0",Object(C.jsxs)(v.a,{children:[s," eth"]})]})})]})})})]})})})},S=n(16),M=n(5),A=n(44),T=n(33),k=n(160),P=n.n(k),E=(n(588),n(259)),L=function(e){var t=Object(a.useState)(!1),n=Object(j.a)(t,2),s=n[0],c=n[1],r=Object(a.useState)(!1),i=Object(j.a)(r,2),o=i[0],p=i[1],O=Object(a.useState)(""),x=Object(j.a)(O,2),h=x[0],w=x[1],N=Object(a.useState)(0),k=Object(j.a)(N,2),L=k[0],B=k[1],I=Object(a.useState)(""),R=Object(j.a)(I,2),D=R[0],F=R[1],Y=Object(a.useState)(""),G=Object(j.a)(Y,2),V=G[0],H=G[1],U=Object(a.useState)(""),z=Object(j.a)(U,2),J=(z[0],z[1],Object(a.useState)("")),_=Object(j.a)(J,2),q=(_[0],_[1],Object(a.useState)("")),W=Object(j.a)(q,2),K=W[0],Q=W[1],X=Object(a.useState)(""),Z=Object(j.a)(X,2),$=Z[0],ee=Z[1],te=Object(a.useState)(""),ne=Object(j.a)(te,2),ae=ne[0],se=ne[1],ce=Object(a.useState)(""),re=Object(j.a)(ce,2),ie=re[0],ue=re[1],de=Object(a.useState)(""),le=Object(j.a)(de,2),je=le[0],oe=le[1],be=Object(a.useState)(""),pe=Object(j.a)(be,2),me=pe[0],Oe=pe[1],xe=Object(a.useState)(""),he=Object(j.a)(xe,2),fe=(he[0],he[1]),ye=Object(a.useState)(""),ve=Object(j.a)(ye,2),we=ve[0],ge=ve[1],Ce=Object(a.useState)(!1),Ne=Object(j.a)(Ce,2),Se=Ne[0],Me=Ne[1],Ae=Object(a.useState)(!1),Te=Object(j.a)(Ae,2),ke=Te[0],Pe=Te[1],Ee=Object(a.useState)(!1),Le=Object(j.a)(Ee,2),Be=(Le[0],Le[1],Object(a.useState)(!1)),Ie=Object(j.a)(Be,2),Re=Ie[0],De=Ie[1],Fe=Object(a.useState)(!0),Ye=Object(j.a)(Fe,2),Ge=Ye[0],Ve=Ye[1],He=Object(a.useState)(""),Ue=Object(j.a)(He,2),ze=Ue[0],Je=Ue[1],_e=Object(a.useState)(!1),qe=Object(j.a)(_e,2),We=qe[0],Ke=qe[1],Qe=Object(a.useState)(!1),Xe=Object(j.a)(Qe,2),Ze=Xe[0],$e=Xe[1],et=Object(a.useState)(!1),tt=Object(j.a)(et,2),nt=tt[0],at=tt[1],st=Object(a.useState)(""),ct=Object(j.a)(st,2),rt=ct[0],it=ct[1],ut=Object(a.useState)(""),dt=Object(j.a)(ut,2),lt=dt[0],jt=dt[1],ot=Object(a.useState)(!1),bt=Object(j.a)(ot,2),pt=bt[0],mt=bt[1],Ot=Object(a.useState)(!1),xt=Object(j.a)(Ot,2),ht=xt[0],ft=xt[1],yt=Object(a.useState)(!1),vt=Object(j.a)(yt,2),wt=vt[0],gt=vt[1],Ct=Object(a.useState)(!1),Nt=Object(j.a)(Ct,2),St=Nt[0],Mt=Nt[1],At=Object(a.useState)(!1),Tt=Object(j.a)(At,2),kt=Tt[0],Pt=Tt[1],Et=Object(a.useState)(!1),Lt=Object(j.a)(Et,2),Bt=Lt[0],It=Lt[1],Rt=Object(a.useState)(!1),Dt=Object(j.a)(Rt,2),Ft=Dt[0],Yt=Dt[1],Gt=Object(a.useState)(!1),Vt=Object(j.a)(Gt,2),Ht=Vt[0],Ut=Vt[1],zt=Object(a.useState)(!1),Jt=Object(j.a)(zt,2),_t=Jt[0],qt=Jt[1],Wt=Object(a.useState)(!1),Kt=Object(j.a)(Wt,2),Qt=Kt[0],Xt=Kt[1],Zt=Object(a.useState)([]),$t=Object(j.a)(Zt,2),en=$t[0],tn=$t[1],nn=Object(a.useState)(""),an=Object(j.a)(nn,2),sn=an[0],cn=an[1],rn=Object(a.useState)(""),un=Object(j.a)(rn,2),dn=un[0],ln=un[1],jn=Object(a.useState)(""),on=Object(j.a)(jn,2),bn=on[0],pn=on[1],mn=Object(a.useRef)(null),On=Object(a.useRef)(null),xn=Object(a.useRef)(null),hn=Object(u.g)(),fn=Object(u.f)();function yn(e){return e.slice(0,5)+"..."+e.slice(-5)}var vn=function(){var e=Object(l.a)(Object(d.a)().mark((function e(){var t,n,a,s,r,i,u,j,o,m,O,x,h,y,v;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=hn.id){e.next=3;break}return e.abrupt("return");case 3:return xn.current=new f.a(window.ethereum),On.current=new xn.current.eth.Contract(b.campaignABI,t),e.next=7,On.current.methods.creator().call();case 7:return n=e.sent,e.next=10,On.current.methods.description().call();case 10:return a=e.sent,e.next=13,On.current.methods.campaignState().call();case 13:return s=e.sent,e.next=16,On.current.methods.dateCreated().call();case 16:return r=e.sent,e.next=19,On.current.methods.dateCreated().call();case 19:return i=e.sent,e.next=22,xn.current.eth.getBalance(t);case 22:u=e.sent,e.t0=parseInt(s),e.next=0===e.t0?26:1===e.t0?28:2===e.t0?30:3===e.t0?33:36;break;case 26:return pn("PROPOSAL"),e.abrupt("break",36);case 28:return pn("MANAGER"),e.abrupt("break",36);case 30:return pn("FUNDED"),Pe(!0),e.abrupt("break",36);case 33:return pn("HALTED"),Me(!0),e.abrupt("break",36);case 36:return Oe(yn(n)),fe(n),it(r),jt(i),w(a),B(u),F(t),H(yn(t)),On.current.events.CampaignAssigned().on("data",function(){var e=Object(l.a)(Object(d.a)().mark((function e(t){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.location.reload();case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).on("error",(function(e,t){console.log(e)})),On.current.events.CampaignFunded().on("data",function(){var e=Object(l.a)(Object(d.a)().mark((function e(t){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.location.reload();case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).on("error",(function(e,t){console.log(e)})),mn.current=new xn.current.eth.Contract(b.managerPoolABI,b.managerPoolAccount),e.next=49,On.current.methods.hasManager().call();case 49:if(j=e.sent,$e(j),j){e.next=68;break}return e.next=54,Cn();case 54:return e.next=56,On.current.methods.leaderIsEligible().call();case 56:if(o=e.sent,m=Date.now(),!o){e.next=66;break}return e.next=61,On.current.methods.leader().call();case 61:return O=e.sent,e.next=64,On.current.methods.getAmountForManager(O).call();case 64:x=e.sent,u>=x&&m>lt&&Ve(!1);case 66:e.next=70;break;case 68:return e.next=70,gn();case 70:return e.next=72,g()();case 72:if(!(h=e.sent)||!h.selectedAddress){e.next=89;break}return e.next=76,On.current.methods.isContributor(h.selectedAddress).call();case 76:return y=e.sent,De(y),c(!0),e.next=81,mn.current.methods.isManager(window.ethereum.selectedAddress).call();case 81:return v=e.sent,Je(v),e.next=85,On.current.methods.manager().call();case 85:e.sent.toLowerCase()==window.ethereum.selectedAddress.toLowerCase()?Ke(!0):Ke(!1),e.next=90;break;case 89:c(!1);case 90:p(!0);case 91:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function wn(){setTimeout((function(){qt(!1)}),5e3),qt(!0)}Object(a.useEffect)((function(){return vn(),window.ethereum.on("accountsChanged",vn),window.ethereum.on("connect",vn),function(){window.ethereum.removeListener("accountsChanged",vn),window.ethereum.removeListener("connect",vn)}}),[]);var gn=function(){var e=Object(l.a)(Object(d.a)().mark((function e(){var t,n,a,s;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,On.current.methods.manager().call();case 2:return t=e.sent,e.next=5,On.current.methods.getAmountForManager(t).call();case 5:return n=e.sent,e.next=8,mn.current.methods.getManagerPoints(t).call();case 8:return a=e.sent,e.next=11,On.current.methods.getProposalManagerByAddress(t).call();case 11:s=e.sent,ue(a),oe(s),se(n),Q(t),ee(yn(t));case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Cn=function(){var e=Object(l.a)(Object(d.a)().mark((function e(){var t,n,a,s,c,r,i;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,On.current.methods.getProposals().call();case 2:t=e.sent,n=[],a=0;case 5:if(!(a<t.length)){e.next=23;break}return t[a].toLowerCase()==window.ethereum.selectedAddress&&at(!0),e.next=9,On.current.methods.getVotesForManager(t[a]).call();case 9:return s=e.sent,e.next=12,On.current.methods.getAmountForManager(t[a]).call();case 12:return c=e.sent,e.next=15,mn.current.methods.getManagerPoints(t[a]).call();case 15:return r=e.sent,e.next=18,On.current.methods.getProposalManagerByAddress(t[a]).call();case 18:i=e.sent,n.push({votes:s,amount:c,manager:t[a],points:r,description:i});case 20:a++,e.next=5;break;case 23:tn(n);case 24:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Nn=function(){var e=Object(l.a)(Object(d.a)().mark((function e(t){var n,a;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!isNaN(we)&&we>0&&we<100)){e.next=15;break}return It(!0),n=1e18*parseFloat(we),a=parseInt(n),e.next=6,On.current.methods.contribute().send({value:a,from:window.ethereum.selectedAddress});case 6:return e.t0=B,e.next=9,xn.current.eth.getBalance(D);case 9:e.t1=e.sent,(0,e.t0)(e.t1),It(!1),De(!0),ge(0),wn();case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Sn=function(){var e=Object(l.a)(Object(d.a)().mark((function e(t){var n;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Mt(!0),e.next=3,mn.current.methods.createManager().send({from:window.ethereum.selectedAddress});case 3:return e.next=5,mn.current.methods.isManager(window.ethereum.selectedAddress).call();case 5:n=e.sent,Je(n),at(!1),Mt(!1),wn();case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Mn=function(){var e=Object(l.a)(Object(d.a)().mark((function e(t){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Yt(!0),e.next=3,On.current.methods.voteOnProposal(t).send({from:window.ethereum.selectedAddress});case 3:return e.next=5,Cn();case 5:Yt(!1),wn();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),An=function(){var e=Object(l.a)(Object(d.a)().mark((function e(t){var n,a;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(!isNaN(dn)&&dn>0&&dn<100)){e.next=13;break}if(!(sn.length>20)){e.next=13;break}return Pt(!0),n=1e3*parseFloat(dn),a=parseInt(n),e.next=8,On.current.methods.submitProposal(sn,a).send({from:window.ethereum.selectedAddress});case 8:return Xt(!1),e.next=11,Cn();case 11:at(!0),Pt(!1);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Tn=function(){var e=Object(l.a)(Object(d.a)().mark((function e(t){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return gt(!0),e.next=3,On.current.methods.refund().send({from:window.ethereum.selectedAddress});case 3:return De(!1),wn(),e.t0=B,e.next=8,xn.current.eth.getBalance(D);case 8:e.t1=e.sent,(0,e.t0)(e.t1),gt(!1);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),kn=function(){var e=Object(l.a)(Object(d.a)().mark((function e(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ft(!0),e.next=3,mn.current.methods.punishManager(K).send({from:window.ethereum.selectedAddress});case 3:return e.next=5,gn();case 5:ft(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Pn=function(){var e=Object(l.a)(Object(d.a)().mark((function e(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ft(!0),e.next=3,mn.current.methods.rewardManager(K).send({from:window.ethereum.selectedAddress});case 3:return e.next=5,gn();case 5:ft(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),En=function(){var e=Object(l.a)(Object(d.a)().mark((function e(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ut(!0),e.next=3,On.current.methods.assignCampaign().send({from:window.ethereum.selectedAddress});case 3:window.location.reload();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ln=function(){var e=Object(l.a)(Object(d.a)().mark((function e(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return mt(!0),e.next=3,On.current.methods.withdrawalFunds().send({from:window.ethereum.selectedAddress});case 3:mt(!1),vn();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Bn=en.map((function(e){return Object(C.jsxs)("div",{children:[Object(C.jsxs)(S.a,{className:"proposal-row",children:[Object(C.jsx)(M.a,{md:"1",children:Object(C.jsx)(v.a,{children:Object(C.jsx)("span",{className:"navbar-badge",children:e.votes})})}),s&&Object(C.jsxs)(M.a,{md:"1",children:[!Ft&&Object(C.jsx)(y.a,{onClick:function(t){Mn(e.manager)},variant:"warning",className:"btn btn-sm",children:"+1"}),Ft&&Object(C.jsx)("div",{className:"loader"})]}),Object(C.jsx)(M.a,{md:"1",children:e.points}),Object(C.jsx)(M.a,{md:"1",children:Object(C.jsxs)("span",{children:[e.amount/1e3,"eth"]})}),Object(C.jsxs)(M.a,{md:"4",children:[Object(C.jsx)("img",{className:"ethscan",src:"./etherscan-logo-light-circle.png"}),"\xa0",Object(C.jsx)("span",{children:Object(C.jsx)("b",{children:yn(e.manager)})})]})]}),Object(C.jsx)(S.a,{children:Object(C.jsx)(M.a,{children:Object(C.jsx)("small",{className:"small-text",children:"DESCRIPTION"})})}),Object(C.jsx)(S.a,{children:Object(C.jsx)(M.a,{children:e.description})})]},e.manager)}));return Object(C.jsxs)("div",{children:[o&&Object(C.jsx)("div",{children:Object(C.jsxs)("div",{children:[Object(C.jsxs)("div",{children:[Object(C.jsx)("br",{}),_t&&Object(C.jsxs)("div",{children:[Object(C.jsxs)(v.a,{className:"success-badge",bg:"success",children:[Object(C.jsx)(T.a,{}),Object(C.jsx)("b",{children:"Complete"})]}),Object(C.jsx)("br",{})]}),Object(C.jsx)("br",{})]}),Object(C.jsxs)(m.a,{className:"Campaign-Viewer",children:[Object(C.jsx)("br",{}),!Qt&&Object(C.jsxs)("div",{children:[Object(C.jsxs)(S.a,{children:[Object(C.jsx)(M.a,{children:Object(C.jsx)("b",{children:"PLUG"})}),Object(C.jsx)(M.a,{md:{offset:11},children:Object(C.jsx)(y.a,{onClick:function(){fn("/")},className:"btn-close active"})})]}),Object(C.jsxs)(S.a,{children:[Object(C.jsxs)(M.a,{md:"3",children:[Object(C.jsx)(S.a,{children:Object(C.jsxs)(M.a,{children:[Object(C.jsx)("small",{className:"small-text",children:"BALANCE"}),Object(C.jsx)(T.d,{className:"description-icon"})]})}),Object(C.jsx)(S.a,{children:Object(C.jsx)(M.a,{children:Object(C.jsxs)("span",{className:"balance-font",children:[L/1e18," eth"]})})})]}),Object(C.jsxs)(M.a,{md:"3",children:[Object(C.jsx)(S.a,{children:Object(C.jsxs)(M.a,{children:[Object(C.jsx)("small",{className:"small-text",children:"SMART CONTRACT"}),Object(C.jsx)(T.d,{className:"description-icon"})]})}),Object(C.jsx)(S.a,{children:Object(C.jsxs)(M.a,{children:[Object(C.jsx)("img",{className:"ethscan",src:"./etherscan-logo-light-circle.png"}),"\xa0",Object(C.jsx)("b",{children:V})]})})]}),Object(C.jsxs)(M.a,{md:"3",children:[Object(C.jsx)(S.a,{children:Object(C.jsxs)(M.a,{children:[Object(C.jsx)("small",{className:"small-text",children:"ORIGINAL POSTER"}),Object(C.jsx)(T.d,{className:"description-icon"})]})}),Object(C.jsx)(S.a,{children:Object(C.jsxs)(M.a,{children:[Object(C.jsx)("img",{className:"ethscan",src:"./etherscan-logo-light-circle.png"}),"\xa0",Object(C.jsx)("b",{children:me})]})})]}),Object(C.jsxs)(M.a,{md:"3",children:[Object(C.jsx)(S.a,{children:Object(C.jsxs)(M.a,{children:[Object(C.jsx)("small",{className:"small-text",children:"DATE CREATED"}),Object(C.jsx)(T.d,{className:"description-icon"})]})}),Object(C.jsx)(S.a,{children:Object(C.jsx)(M.a,{children:Object(C.jsx)(P.a,{unix:!0,tz:"America/New_York",format:"YYYY/MM/DD hh:mm:ss",children:rt})})})]}),Object(C.jsxs)(M.a,{md:"3",children:[Object(C.jsx)(S.a,{children:Object(C.jsxs)(M.a,{children:[Object(C.jsx)("small",{className:"small-text",children:"DATE ELIGIBLE"}),Object(C.jsx)(T.d,{className:"description-icon"})]})}),Object(C.jsx)(S.a,{children:Object(C.jsx)(M.a,{children:Object(C.jsx)(P.a,{unix:!0,tz:"America/New_York",format:"YYYY/MM/DD hh:mm:ss",children:lt})})})]}),Object(C.jsxs)(M.a,{md:"3",children:[Object(C.jsx)(S.a,{children:Object(C.jsxs)(M.a,{children:[Object(C.jsx)("small",{className:"small-text",children:"STATE"}),Object(C.jsx)(T.d,{className:"description-icon"})]})}),Object(C.jsx)(S.a,{children:Object(C.jsx)(M.a,{children:Object(C.jsx)("span",{children:bn})})})]})]}),Object(C.jsx)("br",{}),Object(C.jsxs)(S.a,{children:[s&&!Bt&&!ke&&!Se&&Object(C.jsx)(M.a,{md:"4",children:Object(C.jsxs)(E.a,{children:[Object(C.jsx)(A.a.Control,{size:"sm",value:we,onChange:function(e){return ge(e.target.value)},type:"text",htmlSize:"90px",placeholder:"0.00000 eth"}),Object(C.jsx)(y.a,{onClick:Nn,children:"Contribute"})]})}),Bt&&Object(C.jsx)("div",{className:"loader"}),s&&!ke&&!wt&&Object(C.jsxs)(M.a,{md:"3",children:[Object(C.jsx)(y.a,{variant:"success",onClick:Tn,disabled:!Re,children:"Refund Me"}),Object(C.jsx)(T.d,{className:"description-icon"})]}),wt&&Object(C.jsx)("div",{className:"loader"}),s&&!ke&&!Ht&&Object(C.jsxs)(M.a,{md:"2",children:[Object(C.jsx)(y.a,{variant:"warning",onClick:En,disabled:Ge,children:"Commit"}),Object(C.jsx)(T.d,{className:"description-icon"})]}),Ht&&Object(C.jsx)("div",{className:"loader"}),Object(C.jsxs)(M.a,{children:[!St&&s&&!ze&&!Ze&&Object(C.jsx)(y.a,{variant:"danger",onClick:Sn,children:"Join Manager Pool"}),ze&&!nt&&!Ze&&Object(C.jsxs)("div",{children:[Object(C.jsx)(y.a,{className:"btn btn-sm",variant:"warning",onClick:function(){Xt(!0)},children:"Submit Proposal"}),Object(C.jsx)(T.d,{className:"description-icon"})]}),St&&Object(C.jsx)("div",{className:"loader"})]})]})]}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsx)(S.a,{children:Object(C.jsxs)(M.a,{children:[Object(C.jsx)("small",{className:"small-text",children:"INITIAL DESCRIPTION"}),Object(C.jsx)(T.d,{className:"description-icon"})]})}),Object(C.jsx)(S.a,{children:Object(C.jsx)(M.a,{children:Object(C.jsx)("p",{children:h})})}),Object(C.jsx)("br",{}),Ze&&Object(C.jsxs)("div",{children:[Object(C.jsx)("hr",{}),Object(C.jsxs)(S.a,{children:[Object(C.jsx)(M.a,{md:"2",children:Object(C.jsx)("b",{children:"MANAGER"})}),Object(C.jsxs)(M.a,{md:"2",children:[Object(C.jsx)("img",{className:"ethscan",src:"./etherscan-logo-light-circle.png"}),"\xa0",Object(C.jsx)("b",{children:$})]}),!ht&&Object(C.jsxs)(M.a,{md:"3",children:[Object(C.jsx)(y.a,{onClick:Pn,variant:"success",className:"btn btn-sm",children:Object(C.jsx)(T.c,{})}),"\xa0\xa0\xa0\xa0\xa0",Object(C.jsx)("b",{children:ie}),"\xa0\xa0\xa0\xa0\xa0",Object(C.jsx)(y.a,{onClick:kn,variant:"danger",className:"btn btn-sm",children:Object(C.jsx)(T.b,{})})]}),ht&&Object(C.jsx)("div",{className:"loader"})]}),Object(C.jsxs)(S.a,{children:[Object(C.jsxs)(M.a,{md:"2",children:[Object(C.jsx)("small",{className:"small-text",children:"ETH CAP"}),Object(C.jsx)(T.d,{className:"description-icon"})]}),Object(C.jsxs)(M.a,{children:[Object(C.jsx)("small",{className:"small-text",children:"PROPOSAL"}),Object(C.jsx)(T.d,{className:"description-icon"})]})]}),Object(C.jsxs)(S.a,{children:[Object(C.jsx)(M.a,{md:"2",children:Object(C.jsx)("b",{children:ae/1e3})}),Object(C.jsx)(M.a,{children:je})]})]}),We&&!pt&&!ke&&Object(C.jsxs)("div",{children:[Object(C.jsx)("hr",{}),Object(C.jsx)(S.a,{children:Object(C.jsx)(M.a,{children:Object(C.jsx)("b",{children:"MANAGER CONSOLE"})})}),Object(C.jsx)("br",{}),Object(C.jsx)(y.a,{onClick:Ln,variant:"success",children:"Withdrawl Funds"})]}),pt&&Object(C.jsx)("div",{className:"loader"}),Qt&&Object(C.jsx)(S.a,{children:Object(C.jsx)(M.a,{children:Object(C.jsxs)(A.a,{onSubmit:An,children:[Object(C.jsx)(A.a.Group,{className:"mb-3",children:Object(C.jsx)(A.a.Control,{value:sn,onChange:function(e){cn(e.target.value)},as:"textarea",placeholder:"Summary...",style:{height:"100px"}})}),Object(C.jsx)(A.a.Group,{className:"mb-3",children:Object(C.jsx)(A.a.Control,{value:dn,onChange:function(e){return ln(e.target.value)},type:"text",placeholder:"Minimum ETH"})}),Object(C.jsxs)(S.a,{children:[Object(C.jsxs)(M.a,{md:{span:1,offset:9},children:[!kt&&Object(C.jsx)(y.a,{variant:"primary",type:"submit",children:"Submit"}),kt&&Object(C.jsx)("div",{className:"loader"})]}),Object(C.jsx)(M.a,{children:!kt&&Object(C.jsx)(y.a,{onClick:function(){Xt(!1),cn(""),ln("")},variant:"warning",children:"Cancel"})})]})]})})}),!Ze&&!Qt&&Object(C.jsxs)("div",{children:[Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsx)(S.a,{children:Object(C.jsx)(M.a,{children:Object(C.jsx)("b",{children:"PROPOSALS"})})}),Object(C.jsx)("br",{}),Object(C.jsxs)(S.a,{children:[Object(C.jsx)(M.a,{md:"1",children:Object(C.jsx)("small",{className:"small-text",children:"VOTES"})}),Object(C.jsx)(M.a,{md:"1",children:Object(C.jsx)("small",{className:"small-text",children:"VOTE"})}),Object(C.jsx)(M.a,{md:"1",children:Object(C.jsx)("small",{className:"small-text",children:"REP"})}),Object(C.jsx)(M.a,{md:"1",children:Object(C.jsx)("small",{className:"small-text",children:"NEED"})}),Object(C.jsx)(M.a,{md:"4",children:Object(C.jsx)("small",{className:"small-text",children:"ADDRESS"})})]}),Bn,Object(C.jsx)("br",{}),Object(C.jsx)("br",{})]})]}),Object(C.jsx)("br",{}),Object(C.jsxs)(m.a,{className:"Campaign-Viewer",children:[Object(C.jsx)("br",{}),Object(C.jsx)(S.a,{children:Object(C.jsx)(M.a,{})})]})]})}),!o&&Object(C.jsx)("div",{className:"loader"})]})},B=function(e){var t,n,s=Object(a.useState)(""),c=Object(j.a)(s,2),r=c[0],i=c[1],u=Object(a.useState)(0),o=Object(j.a)(u,2),p=o[0],m=o[1],O=Object(a.useState)(""),h=Object(j.a)(O,2),y=h[0],v=h[1];function w(e){return e.slice(0,5)+"..."+e.slice(-5)}return Object(a.useEffect)((function(){var a=function(){var a=Object(l.a)(Object(d.a)().mark((function a(){return Object(d.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=n=new f.a(window.ethereum),t=new n.eth.Contract(b.campaignABI,e.campaign),a.t0=i,a.next=5,t.methods.creator().call();case 5:return a.t1=a.sent,(0,a.t0)(a.t1),a.t2=v,a.next=10,t.methods.description().call();case 10:return a.t3=a.sent,(0,a.t2)(a.t3),a.t4=m,a.next=15,n.eth.getBalance(e.campaign);case 15:a.t5=a.sent,(0,a.t4)(a.t5);case 17:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();a()}),[]),Object(C.jsx)("div",{children:Object(C.jsxs)(S.a,{className:"Campaign-List-Row",onClick:function(){e.onCampaignSelect(e.campaign)},children:[Object(C.jsx)(M.a,{md:"1",className:"Campaign-List-Col",children:Object(C.jsx)(x.a,{diameter:26,seed:parseInt(e.campaign.slice(2,10),16)})}),Object(C.jsxs)(M.a,{md:"1",children:[p/1e18,"ETH"]}),Object(C.jsx)(M.a,{md:"2",children:w(e.campaign)}),Object(C.jsx)(M.a,{md:"6",children:y}),Object(C.jsx)(M.a,{md:"2",children:w(r)})]})})},I=function(e){var t=Object(a.useRef)(null),n=Object(a.useState)([]),s=Object(j.a)(n,2),c=s[0],r=s[1],o=Object(a.useState)(!1),p=Object(j.a)(o,2),O=p[0],x=p[1],h=Object(u.f)();Object(a.useEffect)((function(){return window.ethereum.on("accountsChanged",y),window.ethereum.on("connect",y),y(),function(){window.ethereum.removeListener("accountsChanged",y),window.ethereum.removeListener("connect",y)}}),[]);var y=function(){var e=Object(l.a)(Object(d.a)().mark((function e(){var n,a,s;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g()();case 2:return n=e.sent,x(n&&n.selectedAddress),a=new f.a(window.ethereum),t.current=new a.eth.Contract(b.factoryABI,b.factoryAddress),e.next=8,t.current.methods.getActiveCampaigns().call();case 8:s=e.sent,r(s);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(l.a)(Object(d.a)().mark((function e(t){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h("/"+t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=c.map((function(e){return Object(C.jsx)(B,{onCampaignSelect:v,campaign:e},e)}));return Object(C.jsxs)("div",{children:[Object(C.jsx)("br",{}),Object(C.jsx)(S.a,{children:Object(C.jsx)(M.a,{md:{offset:10},children:O&&Object(C.jsx)(i.b,{className:"btn btn-danger",to:"/editor",onClick:function(e){h("/editor")},children:"Create"})})}),Object(C.jsx)("br",{}),Object(C.jsxs)(S.a,{className:"Campaign-List-Header",children:[Object(C.jsx)(M.a,{md:"1"}),Object(C.jsx)(M.a,{md:"1",children:Object(C.jsx)("small",{children:"Balance"})}),Object(C.jsx)(M.a,{md:"2",children:Object(C.jsx)("small",{children:"Contract"})}),Object(C.jsx)(M.a,{md:"6",children:Object(C.jsx)("small",{children:"Descrption"})}),Object(C.jsx)(M.a,{md:"2",children:Object(C.jsx)("small",{children:"Creator"})})]}),Object(C.jsx)(m.a,{className:"Campaign-List",children:Object(C.jsx)("div",{className:"Campaign-List-Inner",children:w})})]})},R=function(e){var t=Object(a.useState)(""),n=Object(j.a)(t,2),s=n[0],c=n[1],r=Object(a.useState)(!1),i=Object(j.a)(r,2),o=i[0],p=i[1],m=Object(a.useRef)(null),O=Object(u.f)();Object(a.useEffect)((function(){var e=function(){var e=Object(l.a)(Object(d.a)().mark((function e(){var t;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=new f.a(window.ethereum),m.current=new t.eth.Contract(b.factoryABI,b.factoryAddress);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var x=function(){var e=Object(l.a)(Object(d.a)().mark((function e(t){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p(!0),t.preventDefault(),s){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,m.current.methods.createCampaign(s).send({from:window.ethereum.selectedAddress});case 6:c(""),p(!1),O("/");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(C.jsxs)("div",{children:[Object(C.jsx)("br",{}),Object(C.jsxs)(A.a,{onSubmit:x,children:[Object(C.jsxs)(A.a.Group,{className:"mb-3",controlId:"formShortDescription",children:[Object(C.jsx)(A.a.Label,{}),Object(C.jsx)(A.a.Control,{value:s,onChange:function(e){c(e.target.value)},as:"textarea",placeholder:"Please describe your idea...",style:{height:"100px"}})]}),Object(C.jsxs)(S.a,{children:[Object(C.jsx)(M.a,{md:{offset:7}}),Object(C.jsx)(M.a,{md:"4",children:Object(C.jsxs)("div",{className:"goRight",children:[o&&Object(C.jsx)("div",{className:"loader"}),!o&&Object(C.jsx)(y.a,{variant:"primary",type:"submit",children:"Submit"}),"\xa0",!o&&Object(C.jsx)(y.a,{onClick:function(){c(""),O("/")},variant:"warning",children:"Cancel"})]})}),Object(C.jsx)(M.a,{md:"1"})]})]})]})};r.a.createRoot(document.getElementById("root")).render(Object(C.jsx)(s.a.StrictMode,{children:Object(C.jsx)("div",{children:Object(C.jsx)(m.a,{children:Object(C.jsx)(i.a,{children:Object(C.jsxs)(u.c,{children:[Object(C.jsx)(u.a,{path:"/",element:Object(C.jsxs)("div",{children:[Object(C.jsx)(N,{}),Object(C.jsx)(S.a,{children:Object(C.jsx)(M.a,{children:Object(C.jsx)(I,{})})})]})}),Object(C.jsx)(u.a,{path:"/editor",element:Object(C.jsxs)("div",{children:[Object(C.jsx)(N,{}),Object(C.jsx)(S.a,{children:Object(C.jsx)(M.a,{children:Object(C.jsx)(R,{})})})]})}),Object(C.jsx)(u.a,{path:"/:id",element:Object(C.jsxs)("div",{children:[Object(C.jsx)(N,{}),Object(C.jsx)(S.a,{children:Object(C.jsx)(M.a,{children:Object(C.jsx)(L,{})})})]})})]})})})})}))}},[[591,1,2]]]);
//# sourceMappingURL=main.c695b7e3.chunk.js.map